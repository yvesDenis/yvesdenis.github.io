<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Build serverless system with Pulumi and AWS (Part 3) | Time-to-Geek</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Introduction Here we are at the end of our long journey in the cloud which led us to implement our serveless system in synchronous and asynchronous mode.
Our application meets the basic functional requirements to be used in production, however we cannot release a digital system without worrying about security. Security allows us to retain our customers, to assure them of the protection and anonymity of their data which passes through our application."><meta name=generator content="Hugo 0.110.0"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.98b8feee71ad3d56ea881041d877c631e7268369636aa10acbcb1c7f3bd3ea41.css><meta property="og:title" content="Build serverless system with Pulumi and AWS (Part 3)"><meta property="og:description" content="Introduction Here we are at the end of our long journey in the cloud which led us to implement our serveless system in synchronous and asynchronous mode.
Our application meets the basic functional requirements to be used in production, however we cannot release a digital system without worrying about security. Security allows us to retain our customers, to assure them of the protection and anonymity of their data which passes through our application."><meta property="og:type" content="article"><meta property="og:url" content="https://yvesdenis.github.io/post/build-serverless-system-part-3-post/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-01-21T14:17:20-05:00"><meta property="article:modified_time" content="2023-01-21T22:38:18-05:00"><meta property="og:site_name" content="Time-to-Geek"><meta itemprop=name content="Build serverless system with Pulumi and AWS (Part 3)"><meta itemprop=description content="Introduction Here we are at the end of our long journey in the cloud which led us to implement our serveless system in synchronous and asynchronous mode.
Our application meets the basic functional requirements to be used in production, however we cannot release a digital system without worrying about security. Security allows us to retain our customers, to assure them of the protection and anonymity of their data which passes through our application."><meta itemprop=datePublished content="2023-01-21T14:17:20-05:00"><meta itemprop=dateModified content="2023-01-21T22:38:18-05:00"><meta itemprop=wordCount content="1344"><meta itemprop=keywords content="Aws,IAC,Pulumi,Cloud,Auth,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Build serverless system with Pulumi and AWS (Part 3)"><meta name=twitter:description content="Introduction Here we are at the end of our long journey in the cloud which led us to implement our serveless system in synchronous and asynchronous mode.
Our application meets the basic functional requirements to be used in production, however we cannot release a digital system without worrying about security. Security allows us to retain our customers, to assure them of the protection and anonymity of their data which passes through our application."></head><body class="ma0 avenir bg-near-white production"><header class="cover bg-top" style=background-image:url(https://yvesdenis.github.io/images/pulumi-aws.jpeg)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Time-to-Geek</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/post/ title="Articles page">Articles</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li></ul><div class=ananke-socials><a href=https://github.com/yvesDenis target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><div class="f2 f1-l fw2 white-90 mb0 lh-title">Build serverless system with Pulumi and AWS (Part 3)</div></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">ARTICLES</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Build serverless system with Pulumi and AWS (Part 3)</h1><p class=tracked>By <strong>Yves Denis Deffo</strong></p><time class="f6 mv4 dib tracked" datetime=2023-01-21T14:17:20-05:00>January 21, 2023</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h2 id=introduction>Introduction</h2><p>Here we are at the end of our long journey in the cloud which led us to implement our serveless system in synchronous and asynchronous mode.</p><p>Our application meets the basic functional requirements to be used in production, however we cannot release a digital system without worrying about security. Security allows us to retain our customers, to assure them of the protection and anonymity of their data which passes through our application. It also protects us against malicious attacks.</p><p>So this third step focuses on authenticating our users. Whoever wants to use our application must first present himself in order to generate a token, then using the latter, he can circulate through the system.</p><p><a href=https://github.com/yvesDenis/website-projects-articles/tree/serverless-system/serverless-system>The full source code of this project</a></p><h3 id=functional-requirements>Functional requirements</h3><ol><li>Any request with an empty token results in a response error with a <strong>401</strong> http code - Unauthorized</li><li>Any request with a non valid token results in a response error with a <strong>401</strong> http code - Unauthorized</li><li>Any request with a valid token results in a response successfully passes through the Api Gateway</li></ol><p>There are many ways to control access to our apis(<a href=https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-controlling-access-to-apis.html)>https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-controlling-access-to-apis.html)</a>. For our use case , we selected two modes:</p><ol><li>Amazon Cognito user pool</li><li>Lambda Authorizer</li></ol><h2 id=architecture-diagram---cognito-user-pool>Architecture diagram - Cognito user pool</h2><p><img src=/images/serverless-system/authentication-flow-cognito.svg alt="Serverless system cognito authentication flow"></p><p>For this part , we deployed a new aws resource through Cloudformation : <strong>AWS Cognito user pool</strong></p><p><a href=https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-identity-pools.html>Amazon Cognito user pools</a> are user directories in Amazon Cognito. A client of your API must first sign in a user to the user pool and obtain an identity or access token for the user. Then the client calls your API with one of the returned tokens. The API call succeeds only if the required token is valid.</p><h3 id=create-a-cognito-user-pool-and-an-app-client>Create a Cognito User pool and an App Client</h3><p>We need to create a Cognito user pool where we can store our client credentials. Let&rsquo;s update the Cloudformation template:</p><pre tabindex=0><code>##########################################################################
#                      COGNITO USER POOL                                 # 
##########################################################################

  OrderCognitoPool:
    Type: AWS::Cognito::UserPool
    Properties:
      UserPoolName: orders-pool
      Policies:
        PasswordPolicy:
          MinimumLength: 8
      UsernameAttributes:
        - email
      Schema:
        - AttributeDataType: String
          Name: email
          Required: true

  OrderCognitoPoolClient:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      UserPoolId: !Ref OrderCognitoPool
      ClientName: order-pool-client
      ExplicitAuthFlows:
        - ALLOW_ADMIN_USER_PASSWORD_AUTH
        - ALLOW_REFRESH_TOKEN_AUTH
      GenerateSecret: true
      SupportedIdentityProviders:
        - COGNITO
</code></pre><p>The yaml snippet above creates a Cognito Userpool with username/password authentications. We then create an App Client and App Secret that uses the User Pool.</p><h3 id=secure-the-apigateway>Secure the ApiGateway</h3><p>Now that we have a User Pool and Client configured, we need to add the authentication to our /orders route in Amazon API Gateway:</p><pre tabindex=0><code>##########################################################################
#           API GATEWAY                                                  # 
##########################################################################

  OrderApi:
    Type: AWS::Serverless::Api
    Properties:
      StageName: !Ref ApiGatewayStageName
      Cors:
        AllowMethods: &#34;&#39;POST, GET, UPDATE, DELETE&#39;&#34;
        AllowHeaders: &#34;&#39;X-Forwarded-For&#39;&#34;
        AllowOrigin: &#34;&#39;*&#39;&#34;
        MaxAge: &#34;&#39;600&#39;&#34;
      DefinitionBody:
        &#39;Fn::Transform&#39;:
          Name: &#39;AWS::Include&#39;
          Parameters:
            Location: &#39;./api_template.yaml&#39;
      Auth:
        DefaultAuthorizer: MyCognitoAuth
        Authorizers:
          MyCognitoAuth:
            UserPoolArn: !GetAtt OrderCognitoPool.Arn
</code></pre><p>Once you deployed the Sam template, you should have the Cognito user pool created:</p><p><img src=/images/serverless-system/cognito-order-pool.png alt="Cognito order pool"></p><p>&mldr;with the app client:</p><p><img src=/images/serverless-system/cognito-app-client.png alt="Cognito app client"></p><h3 id=create-a-user-in-the-user-pool>Create a user in the User Pool</h3><p>Our apigateway endpoints are now protected, so it can only accepts authenticated requests. To test this asserton , we need to create users and add them in the user pool</p><p>The commands below allow us to receive from cognito and set cognito user pool id, app client id and app client secret variables.</p><pre tabindex=0><code>#Pick the cognito user pool id from the outputs of the cloudformation stack (serverlesssystemstack).
export USER_POOL_ID=`aws cloudformation describe-stacks --stack-name serveerlesssystemstack --region ca-centrla-1 | jq -r &#39;.Stacks[0].Outputs[] | select( .OutputKey | contains(&#34;CognitoUserPoolID&#34;))&#39; | jq -r &#34;.OutputValue&#34;`

#Pick the client id from the outputs of the cloudformation stack (serverlesssystemstack).
export CLIENT_ID=`aws cloudformation describe-stacks --stack-name $ORDER_APP --region $AWS_REGION | jq -r &#39;.Stacks[0].Outputs[] | select( .OutputKey | contains(&#34;CognitoClientID&#34;))&#39; | jq -r &#34;.OutputValue&#34;`

#Via aws cli , retrieve the client secret in the app client.
export CLIENT_SECRET=`aws cognito-idp describe-user-pool-client --user-pool-id $USER_POOL_ID --client-id $CLIENT_ID  --region $AWS_REGION | jq -r &#34;.UserPoolClient.ClientSecret&#34;`
</code></pre><p>Create Secret Hash from Username, clientid and clientsecret.</p><pre tabindex=0><code>msg=&#34;$USERNAME$CLIENT_ID&#34;
export SECRET_HASH=`echo -n $msg | openssl dgst -sha256 -hmac $CLIENT_SECRET -binary | base64`
</code></pre><p>Then, sign up the Username with its email address and Password by using ClientID and SecretHash.</p><pre tabindex=0><code>Request :
    aws cognito-idp sign-up \
        --client-id $CLIENT_ID \
        --secret-hash $SECRET_HASH \
        --username $USERNAME \
        --password $PASSWORD \
        --user-attributes Name=email,Value=$USERNAME \
        --region $AWS_REGION
Response:
    {
    &#34;UserConfirmed&#34;: false,
    &#34;UserSub&#34;: &#34;XXXXXXXXXXXXXX&#34;
}
</code></pre><h3 id=cognito-integration-test>Cognito Integration test</h3><p>Now we have created and confirmed a user in Cognito user pool, we can run some tests to make sure the application works as expected.</p><ol><li>Without token</li></ol><pre tabindex=0><code>Request:
    curl --location --request POST &#39;https://xxxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; \
    --header &#39;Content-Type: application/json&#39; \
    --data-raw &#39;{
        &#34;user_id&#34;: &#34;Burger_18&#34;,
        &#34;quantity&#34;: &#34;3&#34;,
        &#34;restaurant_id&#34;: &#34;Restaurant 4&#34;
    }&#39;
Response:
    {&#34;message&#34;:&#34;Unauthorized&#34;} with reeposne http code 401
</code></pre><ol start=2><li>With a non valid token</li></ol><pre tabindex=0><code>
Request:
    curl --location --request POST &#39;https://xxxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; \
    --header &#39;Authorization: Bearer raWQiOiJaemkr&#39; \
    --header &#39;Content-Type: application/json&#39; \
    --data-raw &#39;{
        &#34;user_id&#34;: &#34;Burger_18&#34;,
        &#34;quantity&#34;: &#34;3&#34;,
        &#34;restaurant_id&#34;: &#34;Restaurant 4&#34;
    }&#39;
Response:
    {&#34;message&#34;:&#34;Unauthorized&#34;} with reeposne http code 401
</code></pre><ol start=2><li>With a valid token</li></ol><p>In this case , we will make a request to Cognito which will generate a fresh token to use for next request:</p><pre tabindex=0><code>export IDTOKEN=`aws cognito-idp admin-initiate-auth \
        --user-pool-id $USER_POOL_ID \
        --client-id $CLIENT_ID \
        --auth-flow ADMIN_NO_SRP_AUTH \
        --auth-parameters USERNAME=$USERNAME,PASSWORD=$PASSWORD,SECRET_HASH=$SECRET_HASH \
        --region $AWS_REGION \
        | jq -r &#34;.AuthenticationResult.IdToken&#34;`

Request:
    curl --location --request GET &#39;https://xxxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; \
    --header &#39;Authorization: $IDTOKEN&#39; \
    --header &#39;Content-Type: application/json&#39;

Response:  
    [
        {
            &#34;quantity&#34;: 2,
            &#34;createdAt&#34;: &#34;2021-10-04T08:59:07+0000&#34;,
            &#34;user_id&#34;: &#34;static_user&#34;,
            &#34;orderStatus&#34;: &#34;SUCCESS&#34;,
            &#34;id&#34;: &#34;047e55cddweee9-6415-4t53-bq13&#34;,
            &#34;name&#34;: &#34;Burger_1&#34;,
            &#34;restaurantId&#34;: &#34;Restaurant Id&#34;
        }
    ]
</code></pre><h2 id=architecture-diagram---lambda-authorizer>Architecture diagram - Lambda Authorizer</h2><p><img src=/images/serverless-system/authentication-flow-lambda-authorizer.svg alt="Serverless system lambda authorizer authentication flow"></p><p><a href=https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html>A Lambda authorizer (formerly known as a custom authorizer)</a> is a Lambda function that you provide to control access to your API. When your API is called, this Lambda function is invoked with a request context or an authorization token that the client application provides. The Lambda function responds whether the caller is authorized to perform the requested operation.</p><p>There are two types of Lambda authorizers:</p><ul><li>A token-based Lambda authorizer (also called a TOKEN authorizer) receives the caller&rsquo;s identity in a bearer token, such as a JSON Web Token (JWT) or an OAuth token. F</li><li>A request parameter-based Lambda authorizer (also called a REQUEST authorizer) receives the caller&rsquo;s identity in a combination of headers, query string parameters, stageVariables, and $context variables.</li></ul><p>For this project we used the second one. The Lambda authorizer will be responsible for validating the request by checking the value of the <strong>AUTH</strong> header field of the request.</p><h3 id=create-the-lambda-authorizer-code>Create the lambda authorizer code</h3><p><a href=https://github.com/yvesDenis/website-projects-articles/blob/serverless-system/serverless-system/lambda/auth/main.go>Here</a> is the source code of this new lambda function.</p><p>Nothing fancy inside, it just checks the request header and returns the policy document of the requester.</p><h3 id=update-the-sam-template>Update the Sam template</h3><pre tabindex=0><code>##########################################################################
#           LAMBDA AUTHORIZER                                            # 
##########################################################################

  MyAuthFunction:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: ./lambda/auth/
      Handler: auth.handler
      Runtime: go1.x
      Architectures:
          - x86_64
      Policies:
        Statement:
          - Effect: Allow
            Action:
              - logs:*
            Resource:
              - &#34;*&#34; 

##########################################################################
#           API GATEWAY                                                  # 
##########################################################################

  OrderApi:
    Type: AWS::Serverless::Api
    Properties:
      StageName: !Ref ApiGatewayStageName
      Cors:
        AllowMethods: &#34;&#39;POST, GET, UPDATE, DELETE&#39;&#34;
        AllowHeaders: &#34;&#39;X-Forwarded-For&#39;&#34;
        AllowOrigin: &#34;&#39;*&#39;&#34;
        MaxAge: &#34;&#39;600&#39;&#34;
      DefinitionBody:
        &#39;Fn::Transform&#39;:
          Name: &#39;AWS::Include&#39;
          Parameters:
            Location: &#39;./api_template.yaml&#39;
      Auth:
        DefaultAuthorizer: MyLambdaRequestAuthorizer
        Authorizers:
          MyLambdaRequestAuthorizer:
            FunctionPayloadType: REQUEST
            FunctionArn: !GetAtt MyAuthFunction.Arn
            Identity:
              Headers:
                - AUTH
        #DefaultAuthorizer: MyCognitoAuth
        #Authorizers:
          #MyCognitoAuth:
            #UserPoolArn: !GetAtt OrderCognitoPool.Arn
</code></pre><p>We added the new lambda function so it&rsquo;ll be deployed by cloudformation and The auth property of the apigateway has been updated , we commented the cognito pool reference and we added the lambda autorizer arn.</p><p>After the deploy, our apigateway looks like this:</p><p><img src=/images/serverless-system/lambda-authorizer-screenshot.png alt="Lambda authorizer screenshot"></p><h3 id=lambda-authorizer-integration-test>Lambda authorizer integration test</h3><p>Let&rsquo;s validate if our authentication flow with the new lambda works as expected:</p><ol><li>With an empty AUTH header field</li></ol><pre tabindex=0><code>Request:
  curl --location --request GET &#39;https://xxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; 

Response:
  {&#34;message&#34;:&#34;Unauthorized&#34;}
</code></pre><ol start=2><li>With an invalid AUTH header field</li></ol><pre tabindex=0><code>Request:
  curl --location --request GET &#39;https://xxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; \
--header &#39;AUTH: auth_secrets&#39;

Response:
  {&#34;Message&#34;: &#34;User is not authorized to access this resource with an explicit deny&#34;}
</code></pre><ol start=2><li>With a valid AUTH header field</li></ol><pre tabindex=0><code>Request:
  curl --location --request GET &#39;https://xxxxx.execute-api.ca-central-1.amazonaws.com/Dev/orders/&#39; \
--header &#39;AUTH: auth_secret&#39;

Response:  
    [
        {
            &#34;quantity&#34;: 2,
            &#34;createdAt&#34;: &#34;2021-10-04T08:59:07+0000&#34;,
            &#34;user_id&#34;: &#34;static_user&#34;,
            &#34;orderStatus&#34;: &#34;SUCCESS&#34;,
            &#34;id&#34;: &#34;047e55cddweee9-6415-4t53-bq13&#34;,
            &#34;name&#34;: &#34;Burger_1&#34;,
            &#34;restaurantId&#34;: &#34;Restaurant Id&#34;
        }
    ]
</code></pre><h2 id=conclusion>Conclusion</h2><p>We have reached the end of our project which has allowed us to touch a good number of aws resources and see how they can be put together to meet production scenarios but also to make the solution even more resilient and secure.</p><p>Let me know in the comments what you think about this project 😉!</p><ul class=pa0><li class="list di"><a href=/tags/aws/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Aws</a></li><li class="list di"><a href=/tags/iac/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">IAC</a></li><li class="list di"><a href=/tags/pulumi/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Pulumi</a></li><li class="list di"><a href=/tags/cloud/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Cloud</a></li><li class="list di"><a href=/tags/auth/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Auth</a></li></ul><div class=addthis_inline_share_toolbox></div><div class="mt6 instapaper_ignoref"><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script"),n="https-yvesdenis-github-io";t.src="https://"+n+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">What's in this post</p><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#functional-requirements>Functional requirements</a></li></ul></li><li><a href=#architecture-diagram---cognito-user-pool>Architecture diagram - Cognito user pool</a><ul><li><a href=#create-a-cognito-user-pool-and-an-app-client>Create a Cognito User pool and an App Client</a></li><li><a href=#secure-the-apigateway>Secure the ApiGateway</a></li><li><a href=#create-a-user-in-the-user-pool>Create a user in the User Pool</a></li><li><a href=#cognito-integration-test>Cognito Integration test</a></li></ul></li><li><a href=#architecture-diagram---lambda-authorizer>Architecture diagram - Lambda Authorizer</a><ul><li><a href=#create-the-lambda-authorizer-code>Create the lambda authorizer code</a></li><li><a href=#update-the-sam-template>Update the Sam template</a></li><li><a href=#lambda-authorizer-integration-test>Lambda authorizer integration test</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/post/build-serverless-system-part-2-post/>Build serverless system with Pulumi and AWS (Part 2)</a></li><li class=mb2><a href=/post/build-serverless-system-part-1-post/>Build serverless system with Pulumi and AWS (Part 1)</a></li><li class=mb2><a href=/post/ecs-ecr-codebuild-part-2-post/>Build, deploy and run an application with ECR, ECS and Codebuild (Part 2)</a></li><li class=mb2><a href=/post/ecs-ecr-codebuild-part-1-post/>Build, deploy and run an application with ECR, ECS and Codebuild (Part 1)</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://yvesdenis.github.io/>&copy; Time-to-Geek 2023</a><div><div class=ananke-socials><a href=https://github.com/yvesDenis target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer><script id=dsq-count-scr src=//https-yvesdenis-github-io.disqus.com/count.js async></script>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6382ff1e2fa5e2f7"></script></body></html>